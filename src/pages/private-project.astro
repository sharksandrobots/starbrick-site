---
import '../styles.css';
---

<div class="password-container">
  <div id="login-form">
    <h2 class="h3">Private Project</h2>
    <p>This page is password protected.</p>
    <input type="password" id="password-input" placeholder="Enter password" />
    <button onclick="checkPassword()">Submit</button>
  </div>
  
  <div id="content" style="display: none;">
    <h1 class="h2">Access Granted</h1>
    <p>You have successfully accessed the private project.</p>
  </div>
</div>

<style>
  .password-container {
    max-width: 600px;
    margin: 4rem auto;
    padding: 2rem;
    text-align: center;
  }

  input[type="password"] {
    padding: 0.5rem;
    margin: 1rem 0;
    width: 200px;
    border: 1px solid #ccc;
    border-radius: 4px;
  }

  button {
    padding: 0.5rem 1rem;
    background: #000;
    color: #fff;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }

  button:hover {
    background: #333;
  }
</style>

<script is:inline>
  function checkPassword() {
    console.log('Checking password...');
    const password = document.getElementById('password-input').value;
    console.log('Password entered:', password);
    const loginForm = document.getElementById('login-form');
    const content = document.getElementById('content');
    
    if (password === 'test-123') {
      console.log('Password correct!');
      loginForm.style.display = 'none';
      content.style.display = 'block';
      sessionStorage.setItem('isAuthenticated', 'true');
    } else {
      console.log('Password incorrect');
      alert('Incorrect password');
    }
  }

  // Check if already authenticated
  document.addEventListener('DOMContentLoaded', () => {
    console.log('Page loaded, checking authentication...');
    if (sessionStorage.getItem('isAuthenticated') === 'true') {
      console.log('Already authenticated');
      document.getElementById('login-form').style.display = 'none';
      document.getElementById('content').style.display = 'block';
    }
  });
</script> 